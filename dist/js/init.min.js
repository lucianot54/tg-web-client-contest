var TGInit=function(e){"use strict";var n,t,o,r,s=[],i=function(){s.forEach((function(e){e()}))};t=window,o="resize",r=function(){n&&clearTimeout(n),n=setTimeout(i,100)},t.addEventListener(o,r);var u,a=function(){var e={};return e.promise=new Promise((function(n,t){e.resolve=n,e.reject=t})),e},c=function(e){return new Promise((function(n){setTimeout(n,e)}))},l={},p={},d=!1,h=function(e,n){var t,o,r=a(),s=document.createElement("link");s.setAttribute("rel","stylesheet"),s.setAttribute("href","css/".concat(e)),"sheet"in s?(t="sheet",o="cssRules"):(t="styleSheet",o="rules");var i=setInterval((function(){try{s[t]&&s[t][o].length&&(clearInterval(i),n&&(p[e]=s),r.resolve())}catch(e){}}),10);return document.head.appendChild(s),r.promise},m=function(e,n){var t=a(),o=document.createElement("script");return o.onload=function(){n&&(p[e]=o),t.resolve()},o.src="js/".concat(e),document.head.appendChild(o),t.promise},f=function(e,n){var t=a(),o=new XMLHttpRequest;return o.open("GET","img/tgs/".concat(e,".tgs"),!0),o.responseType="arraybuffer",o.onload=function(){var r=new Uint8Array(o.response),s=new Zlib.Gunzip(r).decompress(),i=JSON.parse(function(e){e.constructor!=Uint8Array&&(e=Uint8Array.from(e));for(var n=[],t=0,o=e.length;t<o;t+=32768)n.push(String.fromCharCode.apply(null,e.subarray(t,t+32768)));return n.join("")}(s));l[e]=i,n&&(p[e]=i),t.resolve()},o.send(null),t.promise},v=function(e,n){var t=a(),o=new XMLHttpRequest;return o.open("GET","data/".concat(e,".json"),!0),o.onload=function(){var r=JSON.parse(o.response);l[e]=r,n&&(p[e]=r),t.resolve()},o.send(null),t.promise},g=!1,w=function(){if(g)return Promise.resolve();g=!0;var e=[];return e.push(m("mtproto.min.js")),e.push(m("aes.min.js")),e.push(m("bigint.min.js")),e.push(m("gunzip.min.js")),e.push(m("sha1.min.js")),e.push(m("sha256.min.js")),e.push(v("public-keys")),e.push(v("schema-mtproto")),e.push(v("schema-api")),Promise.all(e)},b=function(){var e,n,t,o,r,s=[],i=new FontFaceObserver("Roboto",{weight:400}),u=new FontFaceObserver("Roboto",{weight:700}),c=new FontFaceObserver("icons");return s.push(i.load(null,3e4)),s.push(u.load(null,3e4)),s.push(c.load("e800",3e4)),s.push((e="logo.svg",n=!0,t=!0,o=a(),(r=new Image).onload=function(){n&&(l[e]=r),t&&(p[e]=r),o.resolve()},r.src="img/".concat(e),o.promise)),s.push(m("emoji-flags.min.js",!0)),s.push(v("countries",!0)),Promise.all(s)},y=function(){var e,n;e='<svg class="loader loader__big loader__blue" viewBox="25 25 50 50">\n      <circle cx="50" cy="50" r="20" stroke-miterlimit="10">\n    </svg>',(n=document.createElement("div")).innerHTML=e,u=n.firstChild,document.body.appendChild(u)},j=function(){var e=a();return u.classList.add("loader__hide"),setTimeout((function(){document.body.removeChild(u),e.resolve()}),300),e.promise},S=sessionStorage.storage_type||"localStorage";sessionStorage.storage_type=S;var T=function(e){return window[S][e]},C=function(){for(var e in y(),p){var n=p[e];"LINK"!=n.tagName&&"SCRIPT"!=n.tagName||document.head.removeChild(n),delete p[e],delete l[e]}var t;w().then((function(){return e=[],n=new FontFaceObserver("Roboto",{weight:400}),t=new FontFaceObserver("Roboto",{weight:700}),o=new FontFaceObserver("icons"),e.push(n.load(null,3e4)),e.push(t.load(null,3e4)),e.push(o.load("e800",3e4)),e.push(m("emoji.min.js")),e.push(m("app.min.js")),e.push(h("app.min.css")),Promise.all(e);var e,n,t,o})).then((function(){return(t=document.createElement("div")).className="emoji-preloader emoji-inner",document.body.appendChild(t),j()})).then((function(){return document.body.removeChild(t),TGApp.AppComponent(document.body),MTProto.init()})).then((function(){TGApp.mtprotoInited()}))},A=function(){var e,n,t;y(),(t=[],t.push(m("auth.min.js",!0)),t.push(h("auth.min.css",!0)),Promise.all(t)).then((function(){return(e=document.createElement("div")).className="emoji-flags-preloader emoji-flag-inner",document.body.appendChild(e),b()})).then((function(){return document.body.removeChild(e),j(),c(150)})).then((function(){return n=TGAuth.AuthComponent(document.body),c(2e3)})).then((function(){w().then((function(){var e;return(e=[],d||e.push(m("lottie.min.js")),e.push(f("idle",!0)),e.push(f("tracking",!0)),e.push(f("close-toggle",!0)),e.push(f("close-peek-show",!0)),e.push(f("close-peek-hide",!0)),e.push(f("close-to-peek",!0)),d=!0,Promise.all(e)).then((function(){n.codeScreenLoaded()})),MTProto.init()})).then((function(){n.mtprotoInited()}))}))};return window.addEventListener("load",(function(){T("access_hash")?C():A()})),e.changeStorageType=function(e){var n=e?"sessionStorage":"localStorage";n!=S&&(sessionStorage.storage_type=n,Object.keys(window[S]).forEach((function(e){"storage_type"!=e&&(window[n][e]=window[S][e])})),window[S].clear(),S=n,sessionStorage.storage_type=S)},e.getStorage=T,e.initApp=C,e.initAuth=A,e.resources=l,e.setStorage=function(e,n){null===n?delete window[S][e]:window[S][e]=n},e}({});
